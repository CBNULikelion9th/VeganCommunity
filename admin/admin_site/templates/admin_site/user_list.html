{% load static %}

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="{% static 'layout.css' %}" rel="stylesheet"/> 
    <title>USER LIST</title>
</head>
<body>
    <h1>Select USER ID To Change</h1>
    <hr>
    <section>
        <a href="{% url 'main' %}" class="btn btn-secondary">Home</a>
        <a href="{% url 'user_new' %}" class="btn btn-secondary">Add USER</a>
        <br><br>
        <form action="{% url 'user_list' %}" method='GET'>
            <div class="row" style="margin-bottom: 15px;">
                <div>
                    <select class="btn btn-primary dropdown-toggle" name="search_type">
                        <option class="dropdown-item" value="authority">권한</option>
                        <option class="dropdown-item" value="id">ID</option>
                        <option class="dropdown-item" value="name">이름</option>
                        <option class="dropdown-item" value="vegan_step">비건 단계</option>
                    </select>
                    <input type="text" name="search_key" value="{{search_key}}" placeholder="looking for...">
                    <span><input class="btn btn-primary" type="submit" value="Search"></span>
                </div>
            </div>
        </form>
        
        <table class="table">
            <thead>
                    <th>User ID</th>
                    <th>User Name</th>
                    <th>User Authority</th>
            </thead>
            <tbody>
                {% for l in list %}
                <tr>
                    <td><a href="{% url 'user_detail' l.id %}">{{l.user_id}}</a></td>
                    <td>{{l.name}}</td>
                    <td>{{l.authority}}</td>
                </tr>
                {% endfor%}
            </tbody>
        </table>
    </section>
</body>
</html>